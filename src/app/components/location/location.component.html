<h1 style="text-align:center; direction: rtl">{{vacationTitle}}</h1>

<form #form='ngForm' (ngSubmit)='submit()'>
  <div> <b> {{location.title}} </b> </div>
  <table style="width:99%; direction: rtl; margin: 0 0.5%">
    <thead>
      <th>
        שם המקום
      </th>
      <th>
        סוג
      </th>
      <th>
        קישור
      </th>
      <th>
        התחלה
      </th>
      <th>
        סיום
      </th>
      <th>
        היינו
      </th>
      <th>
          <a (click)='newNotEdit()'>X(נקה)</a>
        </th>
    </thead>
    <tbody>
      <tr>
        <td>
          <input class="form-control" type="text" name='locationName' [(ngModel)]='location.name'>
        </td>
        <td>
          <select class="form-control" name='locationtype' [(ngModel)]='location.type'>
            <option selected value="">בחרו סוג</option>
            <option value="sleep">מקום לישון בו</option>
            <option value="eat">מקום לאכול בו</option>
            <option value="drink">מקום לשתות בו</option>
            <option value="enjoy">מקום להינות בו</option>
            <option value="buy">מקום לקנות בו</option>
            <option value="see">מקום לראות בו</option>
          </select>
        </td>
        <td>
          <input class="form-control" type="text" name='locationLink' [(ngModel)]='location.link'>
        </td>
        <td>
          <input class="form-control" type="datetime-local" name='locationStartDate' [ngModel]="location.startDate"
            (ngModelChange)="location.startDate = $event">
        </td>
        <td>
          <input class="form-control" type="datetime-local" name='locationEndDate' [ngModel]="location.endDate"
            (ngModelChange)="location.endDate = $event">
        </td>
        <td>
          <input class="form-control" type="checkbox" name='locationVisited' [(ngModel)]='location.visited'>
        </td>
        <td>
          <input class="form-control" placeholder="ציון 1-10" type="number" max="10" min="1" step="0.5"
            name="locationPoints" [(ngModel)]='location.myGrade' />
        </td>
      </tr>

      <tr style="background-color:burlywood">
        <td colspan="7">
          <input class="form-control" style="width: 99%;
              height: 80px;
              margin: 0.5% 0.5%;" type="text" name='locationNotes'
            placeholder="כתבו כאן הערות/הכנות וכו' לגבי נקודת עניין זו..." [(ngModel)]='location.notes'>
        </td>
      </tr>
      <tr>
        <td colspan="2"></td>
        <td colspan="3">
          <input type="submit" [value]="isEdit? 'ערוך' : 'הכנס' " class='btn btn-success' style="margin: 20px auto; width: 70%;" />
        </td>
        <td colspan="2"></td>
      </tr>
    </tbody>
  </table>
  <hr style="width:100%;  margin:20px auto" />
</form>


<hr style="width:100%;  margin:20px auto" />


<div *ngFor='let location of locations'>
  <div style="border-radius: 2%; padding: 5px 5px; background-color:green; margin-bottom: 5px"> <b>
      {{location.name}}</b> </div>
  <table style="width:90%; direction: rtl">
    <thead>
      <th>
        סוג
      </th>
      <th>
        קישור
      </th>
      <th>
        התחלה
      </th>
      <th>
        סיום
      </th>
      <th style="text-align: center">
        היינו
      </th>
      <th>
        ציון
      </th>
      <th></th>
    </thead>
    <tbody>
      <tr>
        <td>
          {{location.type}}
        </td>
        <td>
          <a target="_blank" [href]='location.link'>
            קישור
          </a>
        </td>
        <td>
          {{location.startDate | date:'short'}}
        </td>
        <td>
          {{location.endDate | date:'short'}}
        </td>
        <td style="text-align: center">
          <input type="checkbox" disabled class="form-control" [checked]='location.visited'>
        </td>
        <td>{{location.myGrade}}</td>
        <td>
          <input type="button" (click)='editLocation(this.location.id)' class="btn btn-primary" value="ערוך">
        </td>
      </tr>
      <tr>
        <td colspan="6" style="background-color:burlywood">
          <div style="width:100%" [innerHtml]='location.notes'> </div>
        </td>
      </tr>
    </tbody>
  </table>
  <hr style="width:100%;  margin:20px auto" />
</div>